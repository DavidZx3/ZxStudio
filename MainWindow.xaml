<Window
    x:Class="ZxStudio.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:views="clr-namespace:ZxStudio.Views"
    Title="ZxStudio - Sistema de Gestión Educativa"
    Width="1200"
    Height="750"
    MinWidth="1000"
    MinHeight="600"
    Background="{StaticResource AppLightBackground}"
    WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  =========================================  -->
        <!--  BARRA LATERAL  -->
        <!--  =========================================  -->
        <Border Grid.Column="0" Background="{StaticResource PrimaryGreyBrush}">
            <Grid VerticalAlignment="Stretch">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!--  Logo ORIGINAL  -->
                <Border
                    Grid.Row="0"
                    Padding="30,40,30,40"
                    HorizontalAlignment="Left">
                    <Image
                        Width="190"
                        Height="100"
                        Source="/Resources/feyalegria.png"
                        Stretch="Uniform" />
                </Border>

                <!--  Menú Principal  -->
                <ScrollViewer
                    Grid.Row="1"
                    Margin="0,10"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto">
                    <StackPanel>

                        <!--  Inicio  -->
                        <Button
                            Click="MenuButton_Click"
                            Style="{StaticResource SideMenuButtonStyle}"
                            Tag="0">
                            <StackPanel Orientation="Horizontal">
                                <Path
                                    Data="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"
                                    Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                    Style="{StaticResource MenuIconStyle}" />
                                <TextBlock VerticalAlignment="Center" Text="Inicio" />
                            </StackPanel>
                        </Button>

                        <!--  Gestión de Personal  -->
                        <Button
                            Click="MenuButton_Click"
                            Style="{StaticResource SideMenuButtonStyle}"
                            Tag="1">
                            <StackPanel Orientation="Horizontal">
                                <Path
                                    Data="M4,17H20V19H4V17M17,11H15V15H17V11M16,1C14.34,1 13,2.34 13,4H11V2H5V4H3C1.9,4 1,4.9 1,6V16H11L12,17L13,16H23V6C23,4.9 22.1,4 21,4H19C19,2.34 17.66,1 16,1M16,3C16.55,3 17,3.45 17,4H15C15,3.45 15.45,3 16,3Z"
                                    Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                    Style="{StaticResource MenuIconStyle}" />
                                <TextBlock VerticalAlignment="Center" Text="Gestión de Personal" />
                            </StackPanel>
                        </Button>

                        <!--  Gestión Estudiantes (Expander) - CON BADGE  -->
                        <Expander Style="{StaticResource MenuExpanderStyle}">
                            <Expander.Header>
                                <StackPanel Orientation="Horizontal">
                                    <!--  Icono  -->
                                    <Path
                                        Width="16"
                                        Height="16"
                                        Margin="0,0,15,0"
                                        VerticalAlignment="Center"
                                        Data="M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"
                                        Fill="#B0B0B0"
                                        Stretch="Uniform" />

                                    <!--  Texto principal  -->
                                    <TextBlock
                                        Margin="0,0,10,0"
                                        VerticalAlignment="Center"
                                        Foreground="#E0E0E0"
                                        Text="Gestión Estudiantes" />

                                    <!--  Badge/Contador  -->
                                    <Border
                                        Padding="8,2"
                                        VerticalAlignment="Center"
                                        Background="#2E86AB"
                                        CornerRadius="10">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            FontSize="11"
                                            FontWeight="Bold"
                                            Foreground="White"
                                            Text="2" />
                                    </Border>
                                </StackPanel>
                            </Expander.Header>

                            <!--  Sub-elementos  -->
                            <StackPanel Margin="0,5,0,5">
                                <Button
                                    Click="MenuButton_Click"
                                    Style="{StaticResource SideMenuSubButtonStyle}"
                                    Tag="2">
                                    <StackPanel Orientation="Horizontal">
                                        <Path
                                            Width="14"
                                            Height="14"
                                            Margin="0,0,10,0"
                                            VerticalAlignment="Center"
                                            Data="M9,5V9H21V5M9,19H21V15H9M9,14H21V10H9M4,9H8V5H4M4,19H8V15H4M4,14H8V10H4V14Z"
                                            Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                            Stretch="Uniform" />
                                        <TextBlock VerticalAlignment="Center" Text="Lista Estudiantes" />
                                    </StackPanel>
                                </Button>
                                <Button
                                    Click="MenuButton_Click"
                                    Style="{StaticResource SideMenuSubButtonStyle}"
                                    Tag="3">
                                    <StackPanel Orientation="Horizontal">
                                        <Path
                                            Width="14"
                                            Height="14"
                                            Margin="0,0,10,0"
                                            VerticalAlignment="Center"
                                            Data="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M15,18V16H6V18H15M18,14V12H6V14H18Z"
                                            Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                            Stretch="Uniform" />
                                        <TextBlock VerticalAlignment="Center" Text="Notas / Calificaciones" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Expander>

                        <!--  Reportes  -->
                        <Button
                            Click="MenuButton_Click"
                            Style="{StaticResource SideMenuButtonStyle}"
                            Tag="4">
                            <StackPanel Orientation="Horizontal">
                                <Path
                                    Data="M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3M9,17H7V10H9V17M13,17H11V7H13V17M17,17H15V13H17V17Z"
                                    Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                    Style="{StaticResource MenuIconStyle}" />
                                <TextBlock VerticalAlignment="Center" Text="Reportes" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </ScrollViewer>

                <!--  Configuración y Salir  -->
                <StackPanel Grid.Row="2" Margin="10,0,10,20">
                    <Separator
                        Margin="10,10"
                        Background="{StaticResource SecondaryGreyBrush}"
                        Opacity="0.5" />

                    <Button
                        Click="MenuButton_Click"
                        Style="{StaticResource SideMenuButtonStyle}"
                        Tag="5">
                        <StackPanel Orientation="Horizontal">
                            <Path
                                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.04 4.95,18.95L7.44,17.95C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.95L19.05,18.95C19.27,19.04 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                                Style="{StaticResource MenuIconStyle}" />
                            <TextBlock VerticalAlignment="Center" Text="Configuración" />
                        </StackPanel>
                    </Button>

                    <Button
                        Click="MenuButton_Click"
                        Style="{StaticResource SideMenuButtonStyle}"
                        Tag="6">
                        <StackPanel Orientation="Horizontal">
                            <Path
                                Data="M14.08,15.59L16.67,13H7V11H16.67L14.08,8.41L15.5,7L20.5,12L15.5,17L14.08,15.59M19,3A2,2 0 0,1 21,5V9.67L19,7.67V5H5V19H19V16.33L21,14.33V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H19Z"
                                Fill="{StaticResource AppAccentBrush}"
                                Style="{StaticResource MenuIconStyle}" />
                            <TextBlock
                                VerticalAlignment="Center"
                                Foreground="{StaticResource AppAccentBrush}"
                                Text="Cerrar Sesión" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!--  =========================================  -->
        <!--  CONTENIDO PRINCIPAL  -->
        <!--  =========================================  -->
        <Border
            Grid.Column="1"
            Padding="20"
            Background="{StaticResource AppLightBackground}">
            <TabControl
                x:Name="ContenidoPrincipal"
                Margin="-20,-19,-16,-23"
                Background="Transparent"
                BorderThickness="0">
                <TabControl.Resources>
                    <Style TargetType="TabItem">
                        <Setter Property="Visibility" Value="Collapsed" />
                    </Style>
                </TabControl.Resources>

                <TabItem>
                    <!--  0: Inicio  -->
                    <views:InicioView />
                </TabItem>

                <TabItem>
                    <!--  1: Gestión Personal  -->
                    <views:GestionPersonalView />
                </TabItem>

                <TabItem>
                    <!--  2: Lista Estudiantes  -->
                    <views:GestionEstudiantesView />
                </TabItem>

                <TabItem>
                    <!--  3: Notas  -->
                    <views:NotasEstudiantesView />
                </TabItem>

                <TabItem>
                    <!--  4: Reportes  -->
                    <Grid>
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontSize="24"
                            FontWeight="Light"
                            Foreground="#999999"
                            Text="Vista de Reportes - Próximamente" />
                    </Grid>
                </TabItem>

                <TabItem>
                    <!--  5: Configuración  -->
                    <views:ConfiguracionView />
                </TabItem>
            </TabControl>
        </Border>
    </Grid>
</Window>